def jobName = 'YourJobName'
def job = Jenkins.instance.getItem(jobName)

def allBuilds = job.builds
def successfulBuilds = allBuilds.findAll { it.result == hudson.model.Result.SUCCESS }
def failedBuilds = allBuilds.findAll { it.result == hudson.model.Result.FAILURE }

println("Number of successful builds for job $jobName: ${successfulBuilds.size()}")
println("Number of failed builds for job $jobName: ${failedBuilds.size()}")

def allBuilds = job.builds

println("Total number of builds for job $jobName: ${allBuilds.size()}")


JOB_NAME='jen_rest'
JENKINS_URL='http://127.0.0.1:8080'

SUCCESSFUL_BUILDS=$(curl -ks --user "nik:xxx" "${JENKINS_URL}/job/${JOB_NAME}/api/json?tree=builds\[result,number\]" | jq -r '.builds[] | select(.result == "SUCCESS") | .number' | wc -l)
FAILED_BUILDS=$(curl -ks --user "nik:xxx" "${JENKINS_URL}/job/${JOB_NAME}/api/json?tree=builds\[result,number\]" | jq -r '.builds[] | select(.result == "FAILURE") | .number' | wc -l)
BUILD_COUNT=$(curl -ks --user "nik:xxx" "${JENKINS_URL}/job/jen_rest/api/json?tree=builds\[result,number\]" | jq -r '.builds | length')

echo "Total number of builds for job ${JOB_NAME}: ${BUILD_COUNT}"
echo "Number of successful builds for job ${JOB_NAME}: ${SUCCESSFUL_BUILDS}"
echo "Number of failed builds for job ${JOB_NAME}: ${FAILED_BUILDS}"

